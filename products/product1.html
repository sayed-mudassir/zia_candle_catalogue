<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zia Candles | Product Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/products/product.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="#" class="logo">Zia<span>Candles</span></a>
            <a href="index.html" class="back-to-catalogue">
                <i class="fas fa-arrow-left"></i> Back to Catalogue
            </a>
        </div>
    </nav>

    <!-- Product Details Container -->
    <div class="product-details-container">
        <!-- Product Details will be dynamically loaded here -->
    </div>

    <script>
        // Product Data Objects (same as in main catalogue)
        const products = [
            {
                id: 1,
                name: "Lavender Bliss",
                fragrance: "Lavender",
                weight: "200g",
                burnTime: "35–40 hours",
                price: "₹799",
                imageUrl: "../assets/heart-shaped1.jpeg",
                description: "A calming lavender scent perfect for relaxation and stress relief. This hand-poured soy candle is crafted with pure essential oils to create a serene atmosphere in your home. The gentle lavender fragrance helps promote restful sleep and reduces anxiety.",
                category: "Relaxation",
                rating: 4.8,
                reviewCount: 124,
                additionalImages: [
                    "../assets/snowflakes.jpeg",
                    "../assets/heart-shaped2.jpeg",
                    "../assets/heart-shaped3.jpeg"
                ],
                ingredients: "Soy wax, lavender essential oil, cotton wick",
                scentProfile: "Floral, herbaceous, calming",
                roomSize: "Medium to large rooms",
                madeIn: "Handcrafted in India"
            },
            {
                id: 2,
                name: "Vanilla Comfort",
                fragrance: "Vanilla",
                weight: "180g",
                burnTime: "30–35 hours",
                price: "₹699",
                imageUrl: "https://images.unsplash.com/photo-1563241527-3004b7be0ff8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80",
                description: "Warm, sweet vanilla aroma that creates a cozy and inviting atmosphere. This comforting scent is perfect for creating a welcoming environment in your living space. Made with natural vanilla extract and sustainable soy wax.",
                category: "Comfort",
                rating: 4.6,
                reviewCount: 89,
                additionalImages: [
                    "https://images.unsplash.com/photo-1590736969954-9683b0d7c5c0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",
                    "https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2064&q=80",
                    "https://images.unsplash.com/photo-1563241527-3004b7be0ff8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80"
                ],
                ingredients: "Soy wax, vanilla extract, cotton wick",
                scentProfile: "Sweet, warm, comforting",
                roomSize: "Small to medium rooms",
                madeIn: "Handcrafted in India"
            },
            {
                id: 3,
                name: "Rose Harmony",
                fragrance: "Rose",
                weight: "220g",
                burnTime: "40 hours",
                price: "₹899",
                imageUrl: "https://images.unsplash.com/photo-1590736969954-9683b0d7c5c0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",
                description: "Delicate rose fragrance that brings harmony and elegance to any space. This luxurious candle captures the essence of fresh garden roses. Perfect for romantic evenings, meditation, or creating a peaceful ambiance.",
                category: "Romantic",
                rating: 4.9,
                reviewCount: 156,
                additionalImages: [
                    "https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2064&q=80",
                    "https://images.unsplash.com/photo-1563241527-3004b7be0ff8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80",
                    "https://images.unsplash.com/photo-1590736969954-9683b0d7c5c0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"
                ],
                ingredients: "Soy wax, rose essential oil, cotton wick",
                scentProfile: "Floral, romantic, elegant",
                roomSize: "Medium to large rooms",
                madeIn: "Handcrafted in India"
            }
        ];

        // Get product ID from URL (simulating product selection)
        const urlParams = new URLSearchParams(window.location.search);
        const productId = parseInt(urlParams.get('id')) || 1;
        
        // Find the selected product
        const selectedProduct = products.find(product => product.id === productId) || products[0];

        // Function to generate star rating HTML
        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            let starsHTML = '';
            
            for (let i = 1; i <= 5; i++) {
                if (i <= fullStars) {
                    starsHTML += '<i class="fas fa-star"></i>';
                } else if (i === fullStars + 1 && hasHalfStar) {
                    starsHTML += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    starsHTML += '<i class="far fa-star"></i>';
                }
            }
            
            return starsHTML;
        }

        // Function to get related products (excluding current product)
        function getRelatedProducts(currentProductId) {
            return products.filter(product => product.id !== currentProductId);
        }

        // Function to render product details
        function renderProductDetails() {
            const container = document.querySelector('.product-details-container');
            
            // Generate star rating
            const starsHTML = generateStars(selectedProduct.rating);
            
            // Generate thumbnails HTML
            const allImages = [selectedProduct.imageUrl, ...selectedProduct.additionalImages];
            const thumbnailsHTML = allImages.map((img, index) => `
                <div class="thumbnail ${index === 0 ? 'active' : ''}" data-image="${img}">
                    <img src="${img}" alt="${selectedProduct.name} - View ${index + 1}">
                </div>
            `).join('');
            
            // Get related products
            const relatedProducts = getRelatedProducts(selectedProduct.id);
            const relatedProductsHTML = relatedProducts.map(product => `
                <div class="related-product-card" data-product-id="${product.id}">
                    <div class="related-product-image" style="background-image: url('${product.imageUrl}')"></div>
                    <div class="related-product-info">
                        <h3 class="related-product-name">${product.name}</h3>
                        <p class="related-product-fragrance">${product.fragrance}</p>
                        <div class="related-product-price">${product.price}</div>
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = `
                <div class="product-details-content">
                    <!-- Product Gallery -->
                    <div class="product-gallery">
                        <div class="main-product-image">
                            <img src="${selectedProduct.imageUrl}" alt="${selectedProduct.name}" id="main-product-image">
                        </div>
                        <div class="image-thumbnails">
                            ${thumbnailsHTML}
                        </div>
                    </div>
                    
                    <!-- Product Info -->
                    <div class="product-info">
                        <div class="product-category">${selectedProduct.category}</div>
                        <h1 class="product-title">${selectedProduct.name}</h1>
                        
                        <div class="product-rating">
                            <div class="stars">${starsHTML}</div>
                            <div class="rating-count">${selectedProduct.rating} (${selectedProduct.reviewCount} reviews)</div>
                        </div>
                        
                        <div class="product-price">${selectedProduct.price}</div>
                        
                        <p class="product-description">${selectedProduct.description}</p>
                        
                        <!-- Product Specifications -->
                        <div class="product-specs">
                            <h3 class="specs-title">Product Specifications</h3>
                            <div class="spec-item">
                                <span class="spec-label">Fragrance</span>
                                <span class="spec-value">${selectedProduct.fragrance}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Weight</span>
                                <span class="spec-value">${selectedProduct.weight}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Burn Time</span>
                                <span class="spec-value">${selectedProduct.burnTime}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Scent Profile</span>
                                <span class="spec-value">${selectedProduct.scentProfile}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Recommended Room Size</span>
                                <span class="spec-value">${selectedProduct.roomSize}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Ingredients</span>
                                <span class="spec-value">${selectedProduct.ingredients}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Origin</span>
                                <span class="spec-value">${selectedProduct.madeIn}</span>
                            </div>
                        </div>
                        
                        <!-- Product Actions -->
                        <div class="product-actions">
                            <div class="quantity-selector">
                                <span class="quantity-label">Quantity:</span>
                                <div class="quantity-controls">
                                    <button class="quantity-btn minus">-</button>
                                    <input type="number" class="quantity-input" value="1" min="1" max="10">
                                    <button class="quantity-btn plus">+</button>
                                </div>
                            </div>
                            
                            <div class="action-buttons">
                                <a href="https://wa.me/919876543210?text=Hi%20Zia%20Candles,%20I'd%20like%20to%20order%20${selectedProduct.name}" 
                                   class="btn btn-primary" target="_blank">
                                    <i class="fab fa-whatsapp"></i> Order on WhatsApp
                                </a>
                                <button class="btn btn-secondary add-to-wishlist">
                                    <i class="far fa-heart"></i> Add to Wishlist
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Product Benefits -->
                <div class="product-benefits">
                    <h2 class="benefits-title">Why Choose Zia Candles</h2>
                    <div class="benefits-grid">
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-leaf"></i>
                            </div>
                            <h3 class="benefit-name">Eco-Friendly</h3>
                            <p class="benefit-description">Made with 100% natural soy wax and sustainable ingredients</p>
                        </div>
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-hand-sparkles"></i>
                            </div>
                            <h3 class="benefit-name">Handcrafted</h3>
                            <p class="benefit-description">Each candle is carefully hand-poured with attention to detail</p>
                        </div>
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <h3 class="benefit-name">Long-Lasting</h3>
                            <p class="benefit-description">Enjoy 30-50 hours of beautiful fragrance with each candle</p>
                        </div>
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fas fa-seedling"></i>
                            </div>
                            <h3 class="benefit-name">Natural Scents</h3>
                            <p class="benefit-description">Premium essential oils and natural fragrance extracts</p>
                        </div>
                    </div>
                </div>
                
                <!-- Related Products -->
                <div class="related-products">
                    <h2 class="section-title">You Might Also Like</h2>
                    <div class="related-products-grid">
                        ${relatedProductsHTML}
                    </div>
                </div>
            `;
            
            // Add event listeners after rendering
            setupEventListeners();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Thumbnail click events
            const thumbnails = document.querySelectorAll('.thumbnail');
            const mainImage = document.getElementById('main-product-image');
            
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function() {
                    // Update main image
                    const imageUrl = this.getAttribute('data-image');
                    mainImage.src = imageUrl;
                    
                    // Update active thumbnail
                    thumbnails.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Quantity controls
            const minusBtn = document.querySelector('.quantity-btn.minus');
            const plusBtn = document.querySelector('.quantity-btn.plus');
            const quantityInput = document.querySelector('.quantity-input');
            
            minusBtn.addEventListener('click', () => {
                let value = parseInt(quantityInput.value);
                if (value > 1) {
                    quantityInput.value = value - 1;
                }
            });
            
            plusBtn.addEventListener('click', () => {
                let value = parseInt(quantityInput.value);
                if (value < 10) {
                    quantityInput.value = value + 1;
                }
            });
            
            // Add to wishlist button
            const wishlistBtn = document.querySelector('.add-to-wishlist');
            wishlistBtn.addEventListener('click', function() {
                const icon = this.querySelector('i');
                if (icon.classList.contains('far')) {
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                    this.innerHTML = '<i class="fas fa-heart"></i> Added to Wishlist';
                    this.style.color = '#e74c3c';
                    
                    // Show notification
                    showNotification('Added to wishlist!');
                } else {
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                    this.innerHTML = '<i class="far fa-heart"></i> Add to Wishlist';
                    this.style.color = '';
                    
                    // Show notification
                    showNotification('Removed from wishlist');
                }
            });
            
            // Related product click events
            const relatedProductCards = document.querySelectorAll('.related-product-card');
            relatedProductCards.forEach(card => {
                card.addEventListener('click', function() {
                    const productId = this.getAttribute('data-product-id');
                    // In a real application, this would navigate to the product page
                    // For this demo, we'll just show an alert
                    const product = products.find(p => p.id === parseInt(productId));
                    if (product) {
                        showNotification(`Viewing ${product.name}. In a real app, this would navigate to the product page.`);
                    }
                });
            });
        }

        // Show notification function
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: var(--charcoal);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            
            // Add animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', renderProductDetails);
        
        // Update page title with product name
        document.title = `${selectedProduct.name} | Zia Candles`;
    </script>
</body>
</html>